{"ast":null,"code":"import { OrderedMap } from 'immutable';\nconst users = OrderedMap({\n  '1': {\n    _id: '1',\n    name: \"nDs\",\n    creaded: new Date()\n  },\n  '2': {\n    _id: '2',\n    name: \"nDs0\",\n    creaded: new Date()\n  },\n  '3': {\n    _id: '3',\n    name: \"nDs1\",\n    creaded: new Date()\n  }\n});\nexport default class Store {\n  constructor(appComponent) {\n    this.app = appComponent;\n    this.messages = new OrderedMap();\n    this.channels = new OrderedMap();\n    this.activeChannelId = null;\n    this.user = {\n      _id: 0,\n      name: 'nDs',\n      creaded: new Date()\n    };\n  }\n\n  setActiveChannelId(id) {\n    this.activeChannelId = id;\n    this.update();\n  }\n\n  getActiveChannel() {\n    const channel = this.activeChannelId ? this.channels.get(this.activeChannelId) : this.channels.first();\n    return channel;\n  }\n\n  addMessage(index, message = {}) {\n    this.messages = this.messages.set(`${index}`, message);\n    this.update();\n  }\n\n  getMessages() {\n    return this.messages.valueSeq();\n  }\n\n  getMessagesFromChannel(channel) {\n    let messages = [];\n\n    if (channel) {\n      channel.messages.map((value, key) => {\n        const message = this.messages.get(key);\n        messages.push(message);\n      });\n    }\n\n    return messages;\n  }\n\n  getMembersFromChannel(channel) {\n    const members = [];\n\n    if (channel) {\n      channel.members.map((value, key) => {\n        const member = users.get(key);\n        members.push(member);\n      });\n    }\n  }\n\n  addChannel(index, channel = {}) {\n    this.channels = this.channels.set(`${index}`, channel);\n    this.update();\n  }\n\n  getChannels() {\n    return this.channels.valueSeq();\n  }\n\n  update() {\n    this.app.forceUpdate();\n  }\n\n}","map":{"version":3,"sources":["C:/myProJects/Server/weatherapp/src/store.js"],"names":["OrderedMap","users","_id","name","creaded","Date","Store","constructor","appComponent","app","messages","channels","activeChannelId","user","setActiveChannelId","id","update","getActiveChannel","channel","get","first","addMessage","index","message","set","getMessages","valueSeq","getMessagesFromChannel","map","value","key","push","getMembersFromChannel","members","member","addChannel","getChannels","forceUpdate"],"mappings":"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","sourcesContent":["import { OrderedMap } from 'immutable';\r\n\r\nconst users = OrderedMap({\r\n    '1': {_id:'1', name:\"nDs\", creaded: new Date()},\r\n    '2': {_id:'2', name:\"nDs0\", creaded: new Date()},\r\n    '3': {_id:'3', name:\"nDs1\", creaded: new Date()},\r\n})\r\nexport default class Store {\r\n    constructor(appComponent){\r\n        this.app = appComponent;\r\n        this.messages = new OrderedMap();\r\n        this.channels = new OrderedMap();\r\n        this.activeChannelId = null;\r\n        this.user = {\r\n            _id: 0,\r\n            name: 'nDs',\r\n            creaded: new Date(),\r\n        }\r\n    }\r\n\r\n    setActiveChannelId(id) {\r\n        this.activeChannelId = id;\r\n        this.update();\r\n    }\r\n    getActiveChannel(){\r\n        const channel = this.activeChannelId ? this.channels.get(this.activeChannelId) : this.channels.first();\r\n        return channel;\r\n    }\r\n\r\n    addMessage(index, message = {}){\r\n        this.messages = this.messages.set(`${index}`, message);\r\n        this.update();\r\n    }\r\n\r\n    getMessages(){\r\n        return this.messages.valueSeq();\r\n    }\r\n    getMessagesFromChannel(channel){\r\n        let messages = [];\r\n\r\n        if(channel){\r\n            channel.messages.map((value, key) => {\r\n\r\n                const message = this.messages.get(key);\r\n                messages.push(message);\r\n            });\r\n        }\r\n        return messages;\r\n        \r\n    }\r\n\r\n    getMembersFromChannel(channel){\r\n        const members = [];\r\n        if(channel){\r\n            channel.members.map((value, key) => {\r\n                const member = users.get(key);\r\n                members.push(member);\r\n            })\r\n        }\r\n    }\r\n\r\n    addChannel(index, channel = {}){\r\n        this.channels = this.channels.set(`${index}`, channel);\r\n        this.update();\r\n    }\r\n\r\n    getChannels(){\r\n        return this.channels.valueSeq();\r\n    }\r\n    update(){\r\n        this.app.forceUpdate();\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}