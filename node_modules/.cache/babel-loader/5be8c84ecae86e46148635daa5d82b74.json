{"ast":null,"code":"import _slicedToArray from\"C:\\\\myProJects\\\\Server\\\\weatherapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useContext}from\"react\";import{withRouter}from\"react-router-dom\";import{GlobalContext}from\"../GlobalState\";import SearchBox from\"./SearchBox\";import{withStyles,AppBar,Toolbar,Typography,IconButton,Slide}from\"@material-ui/core/\";import useScrollTrigger from\"@material-ui/core/useScrollTrigger\";import{Menu,Search}from\"@material-ui/icons/\";var styles={root:{flexGrow:1},title:{textAlign:\"center\",width:\"calc(100% - 96px)\"},input:{color:\"#fff\"}};function HideOnScroll(props){var children=props.children;var trigger=useScrollTrigger();return/*#__PURE__*/React.createElement(Slide,{appear:false,direction:\"down\",in:!trigger},children);}function SimpleAppBar(props){var _useContext=useContext(GlobalContext),_useContext2=_slicedToArray(_useContext,2),searchState=_useContext2[0].searchState,dispatch=_useContext2[1];var setMenuOpen=function setMenuOpen(data){console.log(data);dispatch({type:\"setMenuOpen\",snippet:data});};var setSearchState=React.useCallback(function(data){console.log(data);dispatch({type:\"setSearchState\",snippet:data});},[dispatch]);React.useEffect(function(){// if the page is on search we will change the search state\nvar changeAppBar=function changeAppBar(){var path=props.history.location.pathname;if(path===\"/search\"){setSearchState(\"searching\");}else{setSearchState(\"home\");}console.log(\"history change detected in app bar\");};changeAppBar();var unlisten=props.history.listen(function(location){changeAppBar();});},[setSearchState,props.history]);var toggleSearch=function toggleSearch(){if(searchState===\"home\"){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(IconButton,{color:\"inherit\",\"aria-label\":\"Menu\",onClick:function onClick(){return setMenuOpen(true);}},/*#__PURE__*/React.createElement(Menu,null)),/*#__PURE__*/React.createElement(Typography,{variant:\"h6\",color:\"inherit\",style:styles.title},\"nDs Music\"),/*#__PURE__*/React.createElement(IconButton,{onClick:function onClick(){return setSearchState(\"clicked\");},color:\"inherit\",\"aria-label\":\"Search\"},/*#__PURE__*/React.createElement(Search,null)));}else{return/*#__PURE__*/React.createElement(SearchBox,null);}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(HideOnScroll,props,/*#__PURE__*/React.createElement(AppBar,{id:\"navbar\",position:\"sticky\"},/*#__PURE__*/React.createElement(Toolbar,null,toggleSearch()))));}export default withRouter(SimpleAppBar);","map":{"version":3,"sources":["C:/myProJects/Server/weatherapp/src/components/header/SimpleAppBar.js"],"names":["React","useContext","withRouter","GlobalContext","SearchBox","withStyles","AppBar","Toolbar","Typography","IconButton","Slide","useScrollTrigger","Menu","Search","styles","root","flexGrow","title","textAlign","width","input","color","HideOnScroll","props","children","trigger","SimpleAppBar","searchState","dispatch","setMenuOpen","data","console","log","type","snippet","setSearchState","useCallback","useEffect","changeAppBar","path","history","location","pathname","unlisten","listen","toggleSearch"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { GlobalContext } from \"../GlobalState\";\n\nimport SearchBox from \"./SearchBox\";\nimport PropTypes from \"prop-types\";\nimport {\n  withStyles,\n  AppBar,\n  Toolbar,\n  Typography,\n  IconButton,\n  Slide\n} from \"@material-ui/core/\";\n\nimport useScrollTrigger from \"@material-ui/core/useScrollTrigger\";\n\nimport { Menu, Search } from \"@material-ui/icons/\";\n\nconst styles = {\n  root: {\n    flexGrow: 1\n  },\n  title: {\n    textAlign: \"center\",\n    width: \"calc(100% - 96px)\"\n  },\n  input: {\n    color: \"#fff\"\n  }\n};\n\nfunction HideOnScroll(props) {\n  const { children } = props;\n  const trigger = useScrollTrigger();\n\n  return (\n    <Slide appear={false} direction=\"down\" in={!trigger}>\n      {children}\n    </Slide>\n  );\n}\n\nfunction SimpleAppBar(props) {\n  const [{ searchState }, dispatch] = useContext(GlobalContext);\n\n  const setMenuOpen = data => {\n    console.log(data);\n    dispatch({ type: \"setMenuOpen\", snippet: data });\n  };\n  const setSearchState = React.useCallback(\n    data => {\n      console.log(data);\n      dispatch({ type: \"setSearchState\", snippet: data });\n    },\n    [dispatch]\n  );\n\n  React.useEffect(() => {\n    // if the page is on search we will change the search state\n    const changeAppBar = () => {\n      const path = props.history.location.pathname;\n      if (path === \"/search\") {\n        setSearchState(\"searching\");\n      } else {\n        setSearchState(\"home\");\n      }\n      console.log(\"history change detected in app bar\");\n    };\n\n    changeAppBar();\n    const unlisten = props.history.listen(location => {\n      changeAppBar();\n    });\n  }, [setSearchState, props.history]);\n\n  const toggleSearch = () => {\n    if (searchState === \"home\") {\n      return (\n        <>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"Menu\"\n            onClick={() => setMenuOpen(true)}\n          >\n            <Menu />\n          </IconButton>\n          <Typography variant=\"h6\" color=\"inherit\" style={styles.title}>\n            nDs Music\n          </Typography>\n          <IconButton\n            onClick={() => setSearchState(\"clicked\")}\n            color=\"inherit\"\n            aria-label=\"Search\"\n          >\n            <Search />\n          </IconButton>\n        </>\n      );\n    } else {\n      return <SearchBox />;\n    }\n  };\n\n  return (\n    <>\n      <HideOnScroll {...props}>\n        <AppBar id=\"navbar\" position=\"sticky\">\n          <Toolbar>{toggleSearch()}</Toolbar>\n        </AppBar>\n      </HideOnScroll>\n    </>\n  );\n}\n\nexport default withRouter(SimpleAppBar);\n"]},"metadata":{},"sourceType":"module"}