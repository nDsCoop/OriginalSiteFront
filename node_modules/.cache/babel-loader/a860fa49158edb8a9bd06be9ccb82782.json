{"ast":null,"code":"var cid = 1;\n\nfunction buildParams(params) {\n  var result = [];\n\n  for (var i in params) {\n    result.push(encodeURIComponent(i) + '=' + encodeURIComponent(params[i]));\n  }\n\n  return result.join('&');\n}\n\nmodule.exports = function jsonpAdapter(config) {\n  return new Promise(function (resolve, reject) {\n    var script = document.createElement('script');\n    var src = config.url;\n\n    if (config.params) {\n      var params = buildParams(config.params);\n\n      if (params) {\n        src += (src.indexOf('?') >= 0 ? '&' : '?') + params;\n      }\n    }\n\n    script.async = true;\n\n    function remove() {\n      if (script) {\n        script.onload = script.onreadystatechange = script.onerror = null;\n\n        if (script.parentNode) {\n          script.parentNode.removeChild(script);\n        }\n\n        script = null;\n      }\n    }\n\n    var jsonp = 'axiosJsonpCallback' + cid++;\n    var old = window[jsonp];\n    var isAbort = false;\n\n    window[jsonp] = function (responseData) {\n      window[jsonp] = old;\n\n      if (isAbort) {\n        return;\n      }\n\n      var response = {\n        data: responseData,\n        status: 200\n      };\n      resolve(response);\n    };\n\n    var additionalParams = {\n      _: new Date().getTime()\n    };\n    additionalParams[config.callbackParamName || 'callback'] = jsonp;\n    src += (src.indexOf('?') >= 0 ? '&' : '?') + buildParams(additionalParams);\n\n    script.onload = script.onreadystatechange = function () {\n      if (!script.readyState || /loaded|complete/.test(script.readyState)) {\n        remove();\n      }\n    };\n\n    script.onerror = function () {\n      remove();\n      reject(new Error('Network Error'));\n    };\n\n    if (config.cancelToken) {\n      config.cancelToken.promise.then(function (cancel) {\n        if (!script) {\n          return;\n        }\n\n        isAbort = true;\n        reject(cancel);\n      });\n    }\n\n    script.src = src;\n    document.head.appendChild(script);\n  });\n};","map":{"version":3,"sources":["C:/myProJects/WeatherApp/weatherapp/node_modules/axios-jsonp/lib/index.js"],"names":["cid","buildParams","params","result","i","push","encodeURIComponent","join","module","exports","jsonpAdapter","config","Promise","resolve","reject","script","document","createElement","src","url","indexOf","async","remove","onload","onreadystatechange","onerror","parentNode","removeChild","jsonp","old","window","isAbort","responseData","response","data","status","additionalParams","_","Date","getTime","callbackParamName","readyState","test","Error","cancelToken","promise","then","cancel","head","appendChild"],"mappings":"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","sourcesContent":["var cid = 1;\n\nfunction buildParams(params) {\n    var result = [];\n\n    for (var i in params) {\n        result.push(encodeURIComponent(i) + '=' + encodeURIComponent(params[i]));\n    }\n\n    return result.join('&');\n}\n\nmodule.exports = function jsonpAdapter(config) {\n    return new Promise(function(resolve, reject) {\n        var script = document.createElement('script');\n        var src = config.url;\n\n        if (config.params) {\n            var params = buildParams(config.params);\n\n            if (params) {\n                src += (src.indexOf('?') >= 0 ? '&' : '?') + params;\n            }\n        }\n\n        script.async = true;\n\n        function remove() {\n            if (script) {\n                script.onload = script.onreadystatechange = script.onerror = null;\n\n                if (script.parentNode) {\n                    script.parentNode.removeChild(script);\n                }\n\n                script = null;\n            }\n        }\n\n        var jsonp = 'axiosJsonpCallback' + cid++;\n        var old = window[jsonp];\n        var isAbort = false;\n\n        window[jsonp] = function(responseData) {\n            window[jsonp] = old;\n\n            if (isAbort) {\n                return;\n            }\n            \n            var response = {\n                data: responseData,\n                status: 200\n            }\n\n            resolve(response);\n        };\n\n        var additionalParams = {\n            _: (new Date().getTime())\n        };\n        \n        additionalParams[config.callbackParamName || 'callback'] = jsonp;\n\n        src += (src.indexOf('?') >= 0 ? '&' : '?') + buildParams(additionalParams);\n\n        script.onload = script.onreadystatechange = function() {\n            if (!script.readyState || /loaded|complete/.test(script.readyState)) {\n                remove();\n            }\n        };\n\n        script.onerror = function() {\n            remove();\n\n            reject(new Error('Network Error'));\n        };\n\n        if (config.cancelToken) {\n            config.cancelToken.promise.then(function(cancel) {\n                if (!script) {\n                    return;\n                }\n\n                isAbort = true;\n\n                reject(cancel);\n            });\n        }        \n\n        script.src = src;\n\n        document.head.appendChild(script);\n    });\n};"]},"metadata":{},"sourceType":"script"}