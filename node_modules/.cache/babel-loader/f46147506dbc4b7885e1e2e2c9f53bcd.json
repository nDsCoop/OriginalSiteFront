{"ast":null,"code":"const {\n  v4: uuidv4\n} = require('uuid');\n\nconst {\n  truncate\n} = require('lodash');\n\nconst createUser = ({\n  name = \"\",\n  socketId = null\n} = {}) => ({\n  id: uuidv4(),\n  name,\n  socketId\n});\n\nconst createMessage = ({\n  message = \"\",\n  sender = \"\"\n} = {}) => ({\n  id: uuidv4(),\n  time: getTime(new Date(Date.now())),\n  message,\n  sender\n});\n\nconst createChat = ({\n  messages = [],\n  name = \"Community\",\n  users = [],\n  isCommunity = false\n} = {}) => ({\n  id: uuidv4(),\n  name: isCommunity ? \"Community\" : createChatNameFromUsers(users),\n  messages,\n  users,\n  typingUsers: [],\n  isCommunity\n});\n\nconst createChatNameFromUsers = (users, excludedUser = \"\") => {\n  return users.filter(u => u !== excludedUser).join('&') || \"Community Chat\";\n};\n\nconst getTime = date => {\n  return `${date.toLocaleTimeString([], {\n    year: 'numeric',\n    month: 'numeric',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  })}`;\n};\n\nmodule.exports = {\n  createMessage,\n  createChat,\n  createUser,\n  createChatNameFromUsers\n};","map":{"version":3,"sources":["C:/myProJects/WeatherApp/weatherapp/src/Factories.js"],"names":["v4","uuidv4","require","truncate","createUser","name","socketId","id","createMessage","message","sender","time","getTime","Date","now","createChat","messages","users","isCommunity","createChatNameFromUsers","typingUsers","excludedUser","filter","u","join","date","toLocaleTimeString","year","month","day","hour","minute","module","exports"],"mappings":"AAAA,MAAM;AAAEA,EAAAA,EAAE,EAAEC;AAAN,IAAiBC,OAAO,CAAC,MAAD,CAA9B;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAeD,OAAO,CAAC,QAAD,CAA5B;;AAGA,MAAME,UAAU,GAAG,CAAC;AAACC,EAAAA,IAAI,GAAG,EAAR;AAAYC,EAAAA,QAAQ,GAAG;AAAvB,IAA+B,EAAhC,MAClB;AACCC,EAAAA,EAAE,EAACN,MAAM,EADV;AAECI,EAAAA,IAFD;AAGCC,EAAAA;AAHD,CADkB,CAAnB;;AAUA,MAAME,aAAa,GAAG,CAAC;AAACC,EAAAA,OAAO,GAAG,EAAX;AAAeC,EAAAA,MAAM,GAAG;AAAxB,IAA8B,EAA/B,MACpB;AACCH,EAAAA,EAAE,EAACN,MAAM,EADV;AAECU,EAAAA,IAAI,EAACC,OAAO,CAAC,IAAIC,IAAJ,CAASA,IAAI,CAACC,GAAL,EAAT,CAAD,CAFb;AAGCL,EAAAA,OAHD;AAICC,EAAAA;AAJD,CADoB,CAAtB;;AAWA,MAAMK,UAAU,GAAG,CAAC;AAACC,EAAAA,QAAQ,GAAG,EAAZ;AAAgBX,EAAAA,IAAI,GAAG,WAAvB;AAAoCY,EAAAA,KAAK,GAAG,EAA5C;AAAgDC,EAAAA,WAAW,GAAG;AAA9D,IAAwE,EAAzE,MAClB;AACCX,EAAAA,EAAE,EAACN,MAAM,EADV;AAECI,EAAAA,IAAI,EAAEa,WAAW,GAAG,WAAH,GAAiBC,uBAAuB,CAACF,KAAD,CAF1D;AAGCD,EAAAA,QAHD;AAICC,EAAAA,KAJD;AAKCG,EAAAA,WAAW,EAAC,EALb;AAMCF,EAAAA;AAND,CADkB,CAAnB;;AAWA,MAAMC,uBAAuB,GAAG,CAACF,KAAD,EAAQI,YAAY,GAAG,EAAvB,KAA8B;AAC7D,SAAOJ,KAAK,CAACK,MAAN,CAAaC,CAAC,IAAIA,CAAC,KAAKF,YAAxB,EAAsCG,IAAtC,CAA2C,GAA3C,KAAmD,gBAA1D;AACA,CAFD;;AAMA,MAAMZ,OAAO,GAAIa,IAAD,IAAQ;AACvB,SAAQ,GAAEA,IAAI,CAACC,kBAAL,CAAwB,EAAxB,EAA4B;AAACC,IAAAA,IAAI,EAAE,SAAP;AAAkBC,IAAAA,KAAK,EAAE,SAAzB;AAAoCC,IAAAA,GAAG,EAAE,SAAzC;AAAoDC,IAAAA,IAAI,EAAE,SAA1D;AAAqEC,IAAAA,MAAM,EAAE;AAA7E,GAA5B,CAAqH,EAA/H;AACA,CAFD;;AAIAC,MAAM,CAACC,OAAP,GAAiB;AAChBzB,EAAAA,aADgB;AAEhBO,EAAAA,UAFgB;AAGhBX,EAAAA,UAHgB;AAIhBe,EAAAA;AAJgB,CAAjB","sourcesContent":["const { v4: uuidv4 } = require('uuid');\r\nconst { truncate } = require('lodash');\r\n\r\n\r\nconst createUser = ({name = \"\", socketId = null} = {})=>(\r\n\t{\r\n\t\tid:uuidv4(),\r\n\t\tname,\r\n\t\tsocketId\r\n\t\t\r\n\t}\r\n)\r\n\r\n\r\nconst createMessage = ({message = \"\", sender = \"\"} = { })=>(\r\n\t\t{\r\n\t\t\tid:uuidv4(),\r\n\t\t\ttime:getTime(new Date(Date.now())),\r\n\t\t\tmessage,\r\n\t\t\tsender\t\r\n\t\t}\r\n\r\n\t)\r\n\r\n\r\nconst createChat = ({messages = [], name = \"Community\", users = [], isCommunity = false } = {})=>(\r\n\t{\r\n\t\tid:uuidv4(),\r\n\t\tname: isCommunity ? \"Community\" : createChatNameFromUsers(users),\r\n\t\tmessages,\r\n\t\tusers,\r\n\t\ttypingUsers:[],\r\n\t\tisCommunity\r\n\t}\r\n)\r\n\r\nconst createChatNameFromUsers = (users, excludedUser = \"\") => {\r\n\treturn users.filter(u => u !== excludedUser).join('&') || \"Community Chat\"\r\n}\r\n\r\n\r\n\r\nconst getTime = (date)=>{\r\n\treturn `${date.toLocaleTimeString([], {year: 'numeric', month: 'numeric', day: 'numeric', hour: '2-digit', minute: '2-digit'})}`\r\n}\r\n\r\nmodule.exports = {\r\n\tcreateMessage,\r\n\tcreateChat,\r\n\tcreateUser,\r\n\tcreateChatNameFromUsers\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}