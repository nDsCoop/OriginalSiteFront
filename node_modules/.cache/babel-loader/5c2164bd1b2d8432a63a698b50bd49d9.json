{"ast":null,"code":"var _jsxFileName = \"C:\\\\myProJects\\\\Server\\\\weatherapp\\\\src\\\\components\\\\aboutApp\\\\FeedbackApp.js\";\nimport React from \"react\";\nimport { // FormControl,\nTextField, Button, Grid // CircularProgress,\n, LinearProgress } from \"@material-ui/core\";\nimport { loadReCaptcha, ReCaptcha } from \"react-recaptcha-v3\";\nimport axios from \"../../apis/axios\"; // import { GlobalContext } from \"../GlobalState\";\n\nlet captchaToken;\n\nconst FeedbackApp = () => {\n  // const [{}, dispatch] = useContext(GlobalContext);\n  // const setSnackbarMsg = React.useCallback(\n  //   data => {\n  //     dispatch({ type: \"setSnackbarMsg\", snippet: data });\n  //   },\n  //   [dispatch]\n  // );\n  const [isSending, setIsSending] = React.useState(false);\n  const formEl = React.useRef(null);\n\n  const submitForm = async e => {\n    // set state to sending\n    setIsSending(true);\n    const formData = new FormData(formEl.current);\n    const name = formData.get(\"name\");\n    const email = formData.get(\"email\");\n    const message = formData.get(\"message\");\n    e.preventDefault();\n    const post = {\n      name: name,\n      email: email,\n      message: message,\n      token: captchaToken,\n      timestamp: new Date()\n    };\n    await axios.post('/ndsapi/feedback', post).then(function (response) {\n      console.log(response.data.status);\n      console.log(response.data.message); // also clear the form\n\n      formEl.current.reset(); // setSnackbarMsg(response.data.status);\n\n      setIsSending(false);\n    }).catch(function (error) {\n      // console.log(error.response.status);\n      if (error.response) {\n        if (error.response.status === 429) {\n          formEl.current.reset(); // setSnackbarMsg(\"We accept limited feedback!\");\n        }\n      }\n\n      setIsSending(false);\n    });\n  };\n\n  React.useEffect(() => {\n    loadReCaptcha(\"6Le1toEUAAAAAITyNwqEMaz3hFAYzciSJDMomrgN\");\n  }, []);\n\n  const verifyCallback = token => {\n    console.log(token);\n    captchaToken = token;\n    const captchaBox = document.querySelector(\".grecaptcha-badge\");\n    captchaBox.remove(); // remove captcha badge\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"privacy-app\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, \"Ch\\xFAng t\\xF4i lu\\xF4n s\\u1EB5n s\\xE0ng nh\\u1EADn \\xFD ki\\u1EBFn \\u0111\\xF3ng g\\xF3p t\\u1EEB ng\\u01B0\\u1EDDi d\\xF9ng v\\u1EC1 nh\\u1EEFng v\\u1EA5n \\u0111\\u1EC1 c\\u1EA7n ho\\xE0n thi\\u1EC7n ho\\u1EB7c c\\xE1c l\\u1ED7i x\\u1EA3y ra khi App v\\u1EADn h\\xE0nh m\\xE0 nh\\xF3m ph\\xE1t tri\\u1EC3n ch\\u01B0a s\\u1EEDa \\u0111\\u01B0\\u1EE3c.\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }), \"Nh\\u1EADn b\\xE1o c\\xE1o v\\u1EC1 c\\xE1c v\\u1EA5n \\u0111\\u1EC1 vi ph\\u1EA1m s\\u1EED d\\u1EE5ng m\\xE0 ng\\u01B0\\u1EDDi d\\xF9ng ph\\u1EA3n h\\u1ED3i. Hi\\u1EC7n c\\xF3 2 ph\\u01B0\\u01A1ng th\\u1EE9c \\u0111\\u1EC3 ng\\u01B0\\u1EDDi d\\xF9ng trao \\u0111\\u1ED5i v\\u1EDBi nh\\xF3m ph\\xE1t tri\\u1EC3n\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, \"Th\\xF4ng qua Server nDsApp\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, \"Ch\\xFAng t\\xF4i cung c\\u1EA5p server tr\\u1EF1c ti\\u1EBFp t\\u1EF1 \\u0111\\u1ED9ng ghi l\\u1EA1i ph\\u1EA3n h\\u1ED3i. H\\xE0nh vi g\\u1EEDi c\\u1EE7a ng\\u01B0\\u1EDDi d\\xF9ng s\\u1EBD x\\xE1c minh t\\u1EF1 \\u0111\\u1ED9ng khi \\u0111\\u1ED3ng \\xFD g\\u1EEDi v\\xE0 \\u0111i\\u1EC1u \\u0111\\xF3 s\\u1EBD kh\\xF4ng g\\xE2y \\u1EA3nh h\\u01B0\\u1EDFng g\\xEC \\u0111\\u1EBF th\\xF4ng tin c\\xE1 nh\\xE2n\"), /*#__PURE__*/React.createElement(\"i\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, \"S\\u1EED d\\u1EE5ng mail \\u0111\\xE3 x\\xE1c minh \\u0111\\u1EC3 ch\\xFAng bi\\u1EBFt b\\u1EA1n l\\xE0 ai v\\xE0 li\\xEAn l\\u1EA1c l\\u1EA1i b\\u1EA1n n\\u1EBFu c\\u1EA7n (Khuy\\u1EBFn Ngh\\u1ECB D\\xF9ng)\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    component: \"form\",\n    ref: formEl,\n    onSubmit: submitForm,\n    container: true,\n    required: true,\n    justify: \"center\",\n    style: {\n      width: \"100%\",\n      margin: \"0 auto\",\n      padding: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ReCaptcha, {\n    sitekey: \"6Le1toEUAAAAAITyNwqEMaz3hFAYzciSJDMomrgN\",\n    action: \"action_name\",\n    verifyCallback: verifyCallback,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-email-input\",\n    label: \"Name\",\n    type: \"text\",\n    name: \"name\",\n    autoComplete: \"name\",\n    margin: \"normal\",\n    variant: \"outlined\",\n    fullWidth: true,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-email-input\",\n    label: \"Email\",\n    type: \"email\",\n    name: \"email\",\n    autoComplete: \"email\",\n    margin: \"normal\",\n    variant: \"outlined\",\n    fullWidth: true,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"outlined-email-input\",\n    label: \"Feedback\",\n    multiline: true,\n    rows: \"4\",\n    type: \"text\",\n    name: \"message\",\n    autoComplete: \"feedback\",\n    margin: \"normal\",\n    variant: \"outlined\",\n    fullWidth: true,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }), isSending ? /*#__PURE__*/React.createElement(LinearProgress, {\n    style: {\n      width: \"100%\",\n      transform: \"translateY(-12px)\",\n      borderRadius: \"2px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }) : null, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      marginTop: \"10px\"\n    },\n    variant: \"outlined\",\n    color: \"primary\",\n    type: \"submit\",\n    disabled: isSending ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }, isSending ? \"Sending Feedback\" : \"Send Feedback\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"deliver\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"email-feedback-method\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 8\n    }\n  }, \"Ph\\u1EA3n h\\u1ED3i qua mail t\\u1EDBi \\u0111\\u1ECBa ch\\u1EC9 c\\u1EE7a nDs\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 8\n    }\n  }, \"\\u0110\\u1EC1 ngh\\u1ECB ch\\u1EC9 g\\u1EEDi khi kh\\xF4ng nh\\u1EADn \\u0111\\u01B0\\u1EE3c s\\u1EF1 tr\\u1EE3 gi\\xFAp n\\xE0o kh\\xE1c. Ch\\xFAng t\\xF4i c\\xF3 th\\u1EC3 kh\\xF4ng ph\\u1EA3n h\\u1ED3i ho\\u1EB7c kh\\xF4ng th\\u1EC3 ki\\u1EC3m tra li\\xEAn t\\u1EE5c n\\xEAn s\\u1EBD c\\xF3 sai s\\xF3t khi nh\\u1EADn ph\\u1EA3n h\\u1ED3i qua h\\xECnh th\\u1EE9c n\\xE0y.\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 8\n    }\n  }, \"Tuy nhi\\xEAn m\\u1ECDi th\\u1EE9 \\u0111\\u01B0\\u1EE3c ghi nh\\u1EADn khi ng\\u01B0\\u1EDDi d\\xF9ng g\\u1EEDi cho ch\\xFAng t\\xF4i v\\xE0 s\\u1EBD s\\u1EDBm \\u0111\\u01B0\\u1EE3c gi\\u1EA3i quy\\u1EBFt.\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"email-feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 40\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://www.google.com/intl/vi/gmail/about/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 43\n    }\n  }, \"nds.tphcm@gmail.com\"), \" | \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://www.google.com/intl/vi/gmail/about/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 123\n    }\n  }, \"nds.support@outlook.com\")))));\n};\n\nexport default FeedbackApp;","map":{"version":3,"sources":["C:/myProJects/Server/weatherapp/src/components/aboutApp/FeedbackApp.js"],"names":["React","TextField","Button","Grid","LinearProgress","loadReCaptcha","ReCaptcha","axios","captchaToken","FeedbackApp","isSending","setIsSending","useState","formEl","useRef","submitForm","e","formData","FormData","current","name","get","email","message","preventDefault","post","token","timestamp","Date","then","response","console","log","data","status","reset","catch","error","useEffect","verifyCallback","captchaBox","document","querySelector","remove","width","margin","padding","transform","borderRadius","marginTop"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n  // FormControl,\r\n  TextField,\r\n  Button,\r\n  Grid,\r\n  // CircularProgress,\r\n  LinearProgress\r\n} from \"@material-ui/core\";\r\nimport { loadReCaptcha, ReCaptcha } from \"react-recaptcha-v3\";\r\nimport axios from \"../../apis/axios\";\r\n// import { GlobalContext } from \"../GlobalState\";\r\n\r\nlet captchaToken;\r\nconst FeedbackApp = () => {\r\n  // const [{}, dispatch] = useContext(GlobalContext);\r\n\r\n  // const setSnackbarMsg = React.useCallback(\r\n  //   data => {\r\n  //     dispatch({ type: \"setSnackbarMsg\", snippet: data });\r\n  //   },\r\n  //   [dispatch]\r\n  // );\r\n  const [isSending, setIsSending] = React.useState(false);\r\n  const formEl = React.useRef(null);\r\n\r\n  const submitForm = async (e) => {\r\n    // set state to sending\r\n    setIsSending(true);\r\n    const formData = new FormData(formEl.current);\r\n    const name = formData.get(\"name\");\r\n    const email = formData.get(\"email\");\r\n    const message = formData.get(\"message\");\r\n\r\n    e.preventDefault();\r\n\r\n    const post = {\r\n      name: name,\r\n      email: email,\r\n      message: message,\r\n      token: captchaToken,\r\n      timestamp: new Date(),\r\n      }\r\n\r\n    await axios\r\n          .post('/ndsapi/feedback', post)\r\n          .then(function(response) {\r\n            console.log(response.data.status);\r\n            console.log(response.data.message);\r\n            // also clear the form\r\n            formEl.current.reset();\r\n            // setSnackbarMsg(response.data.status);\r\n            setIsSending(false);\r\n          })\r\n          .catch(function(error) {\r\n            // console.log(error.response.status);\r\n            if (error.response) {\r\n              if (error.response.status === 429) {\r\n                formEl.current.reset();\r\n\r\n                // setSnackbarMsg(\"We accept limited feedback!\");\r\n              }\r\n            }\r\n            setIsSending(false);\r\n          });\r\n      };\r\n\r\n  React.useEffect(() => {\r\n    loadReCaptcha(\"6Le1toEUAAAAAITyNwqEMaz3hFAYzciSJDMomrgN\");\r\n  }, []);\r\n\r\n  const verifyCallback = token => {\r\n    console.log(token);\r\n    captchaToken = token;\r\n    const captchaBox = document.querySelector(\".grecaptcha-badge\");\r\n    captchaBox.remove();\r\n    // remove captcha badge\r\n  };\r\n\r\n  return (\r\n    <div className=\"privacy-app\">\r\n      <div className=\"header-feedback\">\r\n        <p>Chúng tôi luôn sẵn sàng nhận ý kiến đóng góp từ người dùng về những vấn đề cần hoàn thiện hoặc các lỗi xảy ra khi App vận hành mà nhóm phát triển chưa sửa được. \r\n        <br/>\r\n        Nhận báo cáo về các vấn đề vi phạm sử dụng mà người dùng phản hồi. Hiện có 2 phương thức để người dùng trao đổi với nhóm phát triển</p>\r\n        <br />\r\n        <h4>Thông qua Server nDsApp</h4>\r\n        <p>Chúng tôi cung cấp server trực tiếp tự động ghi lại phản hồi. Hành vi gửi của người dùng sẽ xác minh tự động khi đồng ý gửi và điều đó sẽ không gây ảnh hưởng gì đế thông tin cá nhân</p>\r\n        <i>Sử dụng mail đã xác minh để chúng biết bạn là ai và liên lạc lại bạn nếu cần (Khuyến Nghị Dùng)</i> \r\n      </div>\r\n      <div className=\"form-feedback\">\r\n        <Grid\r\n          component=\"form\"\r\n          ref={formEl}\r\n          onSubmit={submitForm}\r\n          container\r\n          required\r\n          justify=\"center\"\r\n          style={{ width: \"100%\", margin: \"0 auto\", padding: '1rem' }}\r\n        >\r\n          <ReCaptcha\r\n            sitekey=\"6Le1toEUAAAAAITyNwqEMaz3hFAYzciSJDMomrgN\"\r\n            action=\"action_name\"\r\n            verifyCallback={verifyCallback}\r\n          />\r\n          <TextField\r\n            id=\"outlined-email-input\"\r\n            label=\"Name\"\r\n            type=\"text\"\r\n            name=\"name\"\r\n            autoComplete=\"name\"\r\n            margin=\"normal\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            required\r\n          />\r\n          <TextField\r\n            id=\"outlined-email-input\"\r\n            label=\"Email\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            margin=\"normal\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            required\r\n          />\r\n          <TextField\r\n            id=\"outlined-email-input\"\r\n            label=\"Feedback\"\r\n            multiline\r\n            rows=\"4\"\r\n            type=\"text\"\r\n            name=\"message\"\r\n            autoComplete=\"feedback\"\r\n            margin=\"normal\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            required\r\n          />\r\n          {isSending ? (\r\n            <LinearProgress\r\n              style={{\r\n                width: \"100%\",\r\n                transform: \"translateY(-12px)\",\r\n                borderRadius: \"2px\"\r\n              }}\r\n            />\r\n          ) : null}\r\n          <Button\r\n            style={{ marginTop: \"10px\" }}\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n            disabled={isSending ? true : false}\r\n          >\r\n            {/* if sending is true then show circular progress */}\r\n            {isSending ? \"Sending Feedback\" : \"Send Feedback\"}\r\n          </Button>\r\n        </Grid>\r\n      </div>\r\n\r\n      <div className=\"deliver\"></div>\r\n\r\n      <div className=\"email-feedback-method\">\r\n       <h4>Phản hồi qua mail tới địa chỉ của nDs</h4>\r\n       <p>Đề nghị chỉ gửi khi không nhận được sự trợ giúp nào khác. Chúng tôi có thể không phản hồi hoặc không thể kiểm tra liên tục nên sẽ có sai sót khi nhận phản hồi qua hình thức này.</p>\r\n       <p>Tuy nhiên mọi thứ được ghi nhận khi người dùng gửi cho chúng tôi và sẽ sớm được giải quyết.</p>\r\n       <div className=\"email-feedback\"><b><a href=\"https://www.google.com/intl/vi/gmail/about/\">nds.tphcm@gmail.com</a> | <a href=\"https://www.google.com/intl/vi/gmail/about/\">nds.support@outlook.com</a></b></div>\r\n      </div>\r\n     \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FeedbackApp;\r\n"]},"metadata":{},"sourceType":"module"}