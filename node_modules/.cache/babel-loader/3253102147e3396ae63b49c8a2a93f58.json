{"ast":null,"code":"var _jsxFileName = \"C:\\\\myProJects\\\\WeatherApp\\\\weatherapp\\\\src\\\\messages\\\\MessageInput.js\";\nimport React, { Component } from 'react';\nexport default class MessageInput extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.sendMessage();\n      this.setState({\n        message: \"\"\n      });\n    };\n\n    this.sendMessage = () => {\n      this.props.sendMessage(this.state.message);\n    };\n\n    this.sendTyping = () => {\n      this.lastUpdateTime = Date.now();\n\n      if (!this.state.isTyping) {\n        this.setState({\n          isTyping: true\n        });\n        this.props.sendTyping(true);\n        this.startCheckingTyping();\n      }\n    };\n\n    this.startCheckingTyping = () => {\n      console.log(\"Typing\");\n      this.typingInterval = setInterval(() => {\n        if (Date.now() - this.lastUpdateTime > 365) {\n          this.setState({\n            isTyping: false\n          });\n          this.stopCheckingTyping();\n        }\n      }, 365);\n    };\n\n    this.stopCheckingTyping = () => {\n      console.log(\"Stop Typing\");\n\n      if (this.typingInterval) {\n        clearInterval(this.typingInterval);\n        this.props.sendTyping(false);\n      }\n    };\n\n    this.state = {\n      message: \"\",\n      isTyping: false\n    };\n  }\n\n  componentWillUnmount() {\n    this.stopCheckingTyping();\n  }\n\n  render() {\n    const {\n      message\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"message-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      className: \"message-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"message\",\n      ref: \"messageinput\",\n      type: \"text\",\n      className: \"form-control\",\n      value: message,\n      autoComplete: 'off',\n      placeholder: \"Type something interesting\",\n      onKeyUp: e => {\n        e.keyCode !== 13 && this.sendTyping();\n      },\n      onChange: ({\n        target\n      }) => {\n        this.setState({\n          message: target.value\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      disabled: message.length < 1,\n      type: \"submit\",\n      className: \"send\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 6\n      }\n    }, \" Send \")));\n  }\n\n}","map":{"version":3,"sources":["C:/myProJects/WeatherApp/weatherapp/src/messages/MessageInput.js"],"names":["React","Component","MessageInput","constructor","props","handleSubmit","e","preventDefault","sendMessage","setState","message","state","sendTyping","lastUpdateTime","Date","now","isTyping","startCheckingTyping","console","log","typingInterval","setInterval","stopCheckingTyping","clearInterval","componentWillUnmount","render","keyCode","target","value","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nexport default class MessageInput extends Component {\r\n\t\r\n\tconstructor(props) {\r\n\t  super(props);\r\n\t\r\n\t  this.state = {\r\n\t  \tmessage:\"\",\r\n\t  \tisTyping: false\r\n\t  };\r\n\r\n\t}\r\n\t\r\n\thandleSubmit = (e)=>{\r\n\t\te.preventDefault()\r\n\t\tthis.sendMessage()\r\n\t\tthis.setState({message:\"\"})\r\n\t}\r\n\r\n\tsendMessage = ()=>{\r\n\t\tthis.props.sendMessage(this.state.message)\r\n\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t  this.stopCheckingTyping()\r\n\t}\r\n\r\n\tsendTyping = ()=>{\r\n\t\tthis.lastUpdateTime = Date.now()\r\n\t\tif(!this.state.isTyping){\r\n\t\t\tthis.setState({isTyping:true})\r\n\t\t\tthis.props.sendTyping(true)\r\n\t\t\tthis.startCheckingTyping()\r\n\t\t}\r\n\t}\r\n\r\n\tstartCheckingTyping = ()=>{\r\n\t\tconsole.log(\"Typing\");\r\n\t\tthis.typingInterval = setInterval(()=>{\r\n\t\t\tif((Date.now() - this.lastUpdateTime) > 365){\r\n\t\t\t\tthis.setState({isTyping:false})\r\n\t\t\t\tthis.stopCheckingTyping()\r\n\t\t\t}\r\n\t\t}, 365)\r\n\t}\r\n\t\r\n\tstopCheckingTyping = ()=>{\r\n\t\tconsole.log(\"Stop Typing\");\r\n\t\tif(this.typingInterval){\r\n\t\t\tclearInterval(this.typingInterval)\r\n\t\t\tthis.props.sendTyping(false)\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { message } = this.state\r\n\t\treturn (\r\n\t\t\t<div className=\"message-input\">\r\n\t\t\t\t<form \r\n\t\t\t\t\tonSubmit={ this.handleSubmit }\r\n\t\t\t\t\tclassName=\"message-form\">\r\n\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\tid = \"message\"\r\n\t\t\t\t\t\tref = {\"messageinput\"}\r\n\t\t\t\t\t\ttype = \"text\"\r\n\t\t\t\t\t\tclassName = \"form-control\"\r\n\t\t\t\t\t\tvalue = { message }\r\n\t\t\t\t\t\tautoComplete = {'off'}\r\n\t\t\t\t\t\tplaceholder = \"Type something interesting\"\r\n\t\t\t\t\t\tonKeyUp = { e => { e.keyCode !== 13 && this.sendTyping() } }\r\n\t\t\t\t\t\tonChange = {\r\n\t\t\t\t\t\t\t({target})=>{\r\n\t\t\t\t\t\t\t\tthis.setState({message:target.value})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tdisabled = { message.length < 1 }\r\n\t\t\t\t\t\ttype = \"submit\"\r\n\t\t\t\t\t\tclassName = \"send\"\r\n\r\n\t\t\t\t\t> Send </button>\r\n\t\t\t\t</form>\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}