{"ast":null,"code":"import _slicedToArray from\"C:\\\\myProJects\\\\Server\\\\weatherapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{withStyles,Typography,Grid,Slider}from\"@material-ui/core/\";import{PauseCircleFilled}from\"@material-ui/icons/\";var PrettoSlider=withStyles({root:{height:6,color:\"rgb(27, 154, 238)\",textAlign:\"center\"},thumb:{color:\"rgb(27, 154, 238)\",height:16,width:16,marginTop:-5.3,marginLeft:-8,\"&::before\":{content:\"''\",height:\"inherit\",width:\"inherit\",position:\"absolute\",transform:\"scale(1.6)\",borderRadius:\"50px\",border:\"1px solid\"}},track:{height:6,borderRadius:4},rail:{height:6,borderRadius:4}})(Slider);var MiniSlider=withStyles({root:{height:5,position:\"relative\",bottom:\"16px\",color:\"#ffff\",padding:0},thumb:{display:\"none\"},track:{height:4,borderRadius:0},rail:{height:4,borderRadius:0}})(Slider);var formatTime=function formatTime(secs){var minutes=Math.floor(secs/60);var seconds=Math.ceil(secs-minutes*60);if(seconds<10)seconds=\"0\".concat(seconds);return\"\".concat(minutes,\":\").concat(seconds);};var TimelineController=function TimelineController(_ref){var audioState=_ref.audioState,player=_ref.player,minimized=_ref.minimized;var _useState=useState(50),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),currentTime=_useState4[0],setCurrentTime=_useState4[1];useEffect(function(){if(player){setCurrentTime(player.currentTime);}// we will update the time of player every 800ms\nvar setTimeInterval;if(audioState===\"playing\"){setTimeInterval=setInterval(function(){setCurrentTime(player.currentTime);console.log();},800);}else{clearInterval(setTimeInterval);}return function(){return clearInterval(setTimeInterval);};},[audioState,player]);var handleChange=function handleChange(event,newValue){player.currentTime=newValue;setCurrentTime(newValue);};var showDuration=function showDuration(){if(player){if(player.duration){return formatTime(player.duration);}else{return\"0:00\";}}else{return 0;}};// condition rendering\nif(minimized){return/*#__PURE__*/React.createElement(MiniSlider,{value:currentTime,max:player?player.duration:0});}else{return/*#__PURE__*/React.createElement(\"div\",{style:{margin:\"0 auto\",width:\"90%\"}},/*#__PURE__*/React.createElement(Grid,{container:true,direction:\"row\",justify:\"space-between\"},/*#__PURE__*/React.createElement(Typography,{variant:\"body1\",className:\"timeright\"},formatTime(currentTime)),/*#__PURE__*/React.createElement(Typography,{variant:\"body1\",className:\"timeright\"},showDuration())),/*#__PURE__*/React.createElement(PrettoSlider,{value:currentTime,onChange:handleChange,max:player?player.duration:0}));}};export default TimelineController;","map":{"version":3,"sources":["C:/myProJects/Server/weatherapp/src/components/player/TimelineController.js"],"names":["React","useState","useEffect","withStyles","Typography","Grid","Slider","PauseCircleFilled","PrettoSlider","root","height","color","textAlign","thumb","width","marginTop","marginLeft","content","position","transform","borderRadius","border","track","rail","MiniSlider","bottom","padding","display","formatTime","secs","minutes","Math","floor","seconds","ceil","TimelineController","audioState","player","minimized","value","setValue","currentTime","setCurrentTime","setTimeInterval","setInterval","console","log","clearInterval","handleChange","event","newValue","showDuration","duration","margin"],"mappings":"8JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,UAAT,CAAqBC,UAArB,CAAiCC,IAAjC,CAAuCC,MAAvC,KAAqD,oBAArD,CACA,OAASC,iBAAT,KAAkC,qBAAlC,CAEA,GAAMC,CAAAA,YAAY,CAAGL,UAAU,CAAC,CAC9BM,IAAI,CAAE,CACJC,MAAM,CAAE,CADJ,CAEJC,KAAK,CAAE,mBAFH,CAGJC,SAAS,CAAE,QAHP,CADwB,CAM9BC,KAAK,CAAE,CACLF,KAAK,CAAE,mBADF,CAELD,MAAM,CAAE,EAFH,CAGLI,KAAK,CAAE,EAHF,CAILC,SAAS,CAAE,CAAC,GAJP,CAKLC,UAAU,CAAE,CAAC,CALR,CAML,YAAa,CACXC,OAAO,CAAE,IADE,CAEXP,MAAM,CAAE,SAFG,CAGXI,KAAK,CAAE,SAHI,CAIXI,QAAQ,CAAE,UAJC,CAKXC,SAAS,CAAE,YALA,CAMXC,YAAY,CAAE,MANH,CAOXC,MAAM,CAAE,WAPG,CANR,CANuB,CAsB9BC,KAAK,CAAE,CACLZ,MAAM,CAAE,CADH,CAELU,YAAY,CAAE,CAFT,CAtBuB,CA0B9BG,IAAI,CAAE,CACJb,MAAM,CAAE,CADJ,CAEJU,YAAY,CAAE,CAFV,CA1BwB,CAAD,CAAV,CA8BlBd,MA9BkB,CAArB,CAgCA,GAAMkB,CAAAA,UAAU,CAAGrB,UAAU,CAAC,CAC5BM,IAAI,CAAE,CACJC,MAAM,CAAE,CADJ,CAEJQ,QAAQ,CAAE,UAFN,CAGJO,MAAM,CAAE,MAHJ,CAIJd,KAAK,CAAE,OAJH,CAKJe,OAAO,CAAE,CALL,CADsB,CAQ5Bb,KAAK,CAAE,CACLc,OAAO,CAAE,MADJ,CARqB,CAW5BL,KAAK,CAAE,CACLZ,MAAM,CAAE,CADH,CAELU,YAAY,CAAE,CAFT,CAXqB,CAe5BG,IAAI,CAAE,CACJb,MAAM,CAAE,CADJ,CAEJU,YAAY,CAAE,CAFV,CAfsB,CAAD,CAAV,CAmBhBd,MAnBgB,CAAnB,CAqBA,GAAMsB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAC,IAAI,CAAI,CACzB,GAAIC,CAAAA,OAAO,CAAGC,IAAI,CAACC,KAAL,CAAWH,IAAI,CAAG,EAAlB,CAAd,CACA,GAAII,CAAAA,OAAO,CAAGF,IAAI,CAACG,IAAL,CAAUL,IAAI,CAAGC,OAAO,CAAG,EAA3B,CAAd,CAEA,GAAIG,OAAO,CAAG,EAAd,CAAkBA,OAAO,YAAOA,OAAP,CAAP,CAElB,gBAAUH,OAAV,aAAqBG,OAArB,EACD,CAPD,CASA,GAAME,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,MAAuC,IAApCC,CAAAA,UAAoC,MAApCA,UAAoC,CAAxBC,MAAwB,MAAxBA,MAAwB,CAAhBC,SAAgB,MAAhBA,SAAgB,eACtCrC,QAAQ,CAAC,EAAD,CAD8B,wCACzDsC,KADyD,eAClDC,QADkD,8BAE1BvC,QAAQ,CAAC,CAAD,CAFkB,yCAEzDwC,WAFyD,eAE5CC,cAF4C,eAIhExC,SAAS,CAAC,UAAM,CACd,GAAImC,MAAJ,CAAY,CACVK,cAAc,CAACL,MAAM,CAACI,WAAR,CAAd,CACD,CACD;AACA,GAAIE,CAAAA,eAAJ,CACA,GAAIP,UAAU,GAAK,SAAnB,CAA8B,CAC5BO,eAAe,CAAGC,WAAW,CAAC,UAAM,CAClCF,cAAc,CAACL,MAAM,CAACI,WAAR,CAAd,CACAI,OAAO,CAACC,GAAR,GACD,CAH4B,CAG1B,GAH0B,CAA7B,CAID,CALD,IAKO,CACLC,aAAa,CAACJ,eAAD,CAAb,CACD,CACD,MAAO,kBAAMI,CAAAA,aAAa,CAACJ,eAAD,CAAnB,EAAP,CACD,CAfQ,CAeN,CAACP,UAAD,CAAaC,MAAb,CAfM,CAAT,CAiBA,GAAMW,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAQC,QAAR,CAAqB,CACxCb,MAAM,CAACI,WAAP,CAAqBS,QAArB,CACAR,cAAc,CAACQ,QAAD,CAAd,CACD,CAHD,CAKA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAId,MAAJ,CAAY,CACV,GAAIA,MAAM,CAACe,QAAX,CAAqB,CACnB,MAAOxB,CAAAA,UAAU,CAACS,MAAM,CAACe,QAAR,CAAjB,CACD,CAFD,IAEO,CACL,MAAO,MAAP,CACD,CACF,CAND,IAMO,CACL,MAAO,EAAP,CACD,CACF,CAVD,CAYA;AACA,GAAId,SAAJ,CAAe,CACb,mBACE,oBAAC,UAAD,EAAY,KAAK,CAAEG,WAAnB,CAAgC,GAAG,CAAEJ,MAAM,CAAGA,MAAM,CAACe,QAAV,CAAqB,CAAhE,EADF,CAGD,CAJD,IAIO,CACL,mBACE,2BAAK,KAAK,CAAE,CAAEC,MAAM,CAAE,QAAV,CAAoBvC,KAAK,CAAE,KAA3B,CAAZ,eACE,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,SAAS,CAAC,KAA1B,CAAgC,OAAO,CAAC,eAAxC,eACE,oBAAC,UAAD,EAAY,OAAO,CAAC,OAApB,CAA4B,SAAS,CAAC,WAAtC,EACGc,UAAU,CAACa,WAAD,CADb,CADF,cAIE,oBAAC,UAAD,EAAY,OAAO,CAAC,OAApB,CAA4B,SAAS,CAAC,WAAtC,EACGU,YAAY,EADf,CAJF,CADF,cAUE,oBAAC,YAAD,EACE,KAAK,CAAEV,WADT,CAEE,QAAQ,CAAEO,YAFZ,CAGE,GAAG,CAAEX,MAAM,CAAGA,MAAM,CAACe,QAAV,CAAqB,CAHlC,EAVF,CADF,CAkBD,CACF,CA/DD,CAiEA,cAAejB,CAAAA,kBAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { withStyles, Typography, Grid, Slider } from \"@material-ui/core/\";\r\nimport { PauseCircleFilled } from \"@material-ui/icons/\";\r\n\r\nconst PrettoSlider = withStyles({\r\n  root: {\r\n    height: 6,\r\n    color: \"rgb(27, 154, 238)\",\r\n    textAlign: \"center\",\r\n  },\r\n  thumb: {\r\n    color: \"rgb(27, 154, 238)\",\r\n    height: 16,\r\n    width: 16,\r\n    marginTop: -5.3,\r\n    marginLeft: -8,\r\n    \"&::before\": {\r\n      content: \"''\",\r\n      height: \"inherit\",\r\n      width: \"inherit\",\r\n      position: \"absolute\",\r\n      transform: \"scale(1.6)\",\r\n      borderRadius: \"50px\",\r\n      border: \"1px solid\"\r\n    }\r\n  },\r\n  track: {\r\n    height: 6,\r\n    borderRadius: 4\r\n  },\r\n  rail: {\r\n    height: 6,\r\n    borderRadius: 4\r\n  }\r\n})(Slider);\r\n\r\nconst MiniSlider = withStyles({\r\n  root: {\r\n    height: 5,\r\n    position: \"relative\",\r\n    bottom: \"16px\",\r\n    color: \"#ffff\",\r\n    padding: 0\r\n  },\r\n  thumb: {\r\n    display: \"none\"\r\n  },\r\n  track: {\r\n    height: 4,\r\n    borderRadius: 0\r\n  },\r\n  rail: {\r\n    height: 4,\r\n    borderRadius: 0\r\n  }\r\n})(Slider);\r\n\r\nconst formatTime = secs => {\r\n  let minutes = Math.floor(secs / 60);\r\n  let seconds = Math.ceil(secs - minutes * 60);\r\n\r\n  if (seconds < 10) seconds = `0${seconds}`;\r\n\r\n  return `${minutes}:${seconds}`;\r\n};\r\n\r\nconst TimelineController = ({ audioState, player, minimized }) => {\r\n  const [value, setValue] = useState(50);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (player) {\r\n      setCurrentTime(player.currentTime);\r\n    }\r\n    // we will update the time of player every 800ms\r\n    let setTimeInterval;\r\n    if (audioState === \"playing\") {\r\n      setTimeInterval = setInterval(() => {\r\n        setCurrentTime(player.currentTime);\r\n        console.log()\r\n      }, 800);\r\n    } else {\r\n      clearInterval(setTimeInterval);\r\n    }\r\n    return () => clearInterval(setTimeInterval);\r\n  }, [audioState, player]);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    player.currentTime = newValue;\r\n    setCurrentTime(newValue);\r\n  };\r\n\r\n  const showDuration = () => {\r\n    if (player) {\r\n      if (player.duration) {\r\n        return formatTime(player.duration);\r\n      } else {\r\n        return \"0:00\";\r\n      }\r\n    } else {\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  // condition rendering\r\n  if (minimized) {\r\n    return (\r\n      <MiniSlider value={currentTime} max={player ? player.duration : 0} />\r\n    );\r\n  } else {\r\n    return (\r\n      <div style={{ margin: \"0 auto\", width: \"90%\" }}>\r\n        <Grid container direction=\"row\" justify=\"space-between\">\r\n          <Typography variant=\"body1\" className=\"timeright\">\r\n            {formatTime(currentTime)}\r\n          </Typography>\r\n          <Typography variant=\"body1\" className=\"timeright\">\r\n            {showDuration()}\r\n          </Typography>\r\n        </Grid>\r\n\r\n        <PrettoSlider\r\n          value={currentTime}\r\n          onChange={handleChange}\r\n          max={player ? player.duration : 0}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default TimelineController;\r\n"]},"metadata":{},"sourceType":"module"}