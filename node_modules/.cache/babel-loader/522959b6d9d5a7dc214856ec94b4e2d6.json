{"ast":null,"code":"import _classCallCheck from\"C:\\\\myProJects\\\\Server\\\\weatherapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\myProJects\\\\Server\\\\weatherapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\myProJects\\\\Server\\\\weatherapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\myProJects\\\\Server\\\\weatherapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\myProJects\\\\Server\\\\weatherapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import AudioVisualiser from'./AudioVisualiser';var AudioAnalyser=/*#__PURE__*/function(_Component){_inherits(AudioAnalyser,_Component);var _super=_createSuper(AudioAnalyser);function AudioAnalyser(props){var _this;_classCallCheck(this,AudioAnalyser);_this=_super.call(this,props);_this.state={audioData:new Uint8Array(0)};_this.tick=_this.tick.bind(_assertThisInitialized(_this));return _this;}_createClass(AudioAnalyser,[{key:\"componentDidMount\",value:function componentDidMount(){this.audioContext=new(window.AudioContext||window.webkitAudioContext)();this.analyser=this.audioContext.createAnalyser();this.dataArray=new Uint8Array(this.analyser.frequencyBinCount);this.source=this.audioContext.createMediaStreamSource(this.props.audio);this.source.connect(this.analyser);this.source.connect(this.analyser);this.rafId=requestAnimationFrame(this.tick);}},{key:\"tick\",value:function tick(){this.analyser.getByteTimeDomainData(this.dataArray);this.setState({audioData:this.dataArray});this.rafId=requestAnimationFrame(this.tick);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){cancelAnimationFrame(this.rafId);this.analyser.disconnect();this.source.disconnect();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(AudioVisualiser,{audioData:this.state.audioData});}}]);return AudioAnalyser;}(Component);export default AudioAnalyser;","map":{"version":3,"sources":["C:/myProJects/Server/weatherapp/src/components/library/AudioAnalyser.js"],"names":["React","Component","AudioVisualiser","AudioAnalyser","props","state","audioData","Uint8Array","tick","bind","audioContext","window","AudioContext","webkitAudioContext","analyser","createAnalyser","dataArray","frequencyBinCount","source","createMediaStreamSource","audio","connect","rafId","requestAnimationFrame","getByteTimeDomainData","setState","cancelAnimationFrame","disconnect"],"mappings":"sxBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,C,GAEMC,CAAAA,a,8GACJ,uBAAYC,KAAZ,CAAmB,+CACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CAAEC,SAAS,CAAE,GAAIC,CAAAA,UAAJ,CAAe,CAAf,CAAb,CAAb,CACA,MAAKC,IAAL,CAAY,MAAKA,IAAL,CAAUC,IAAV,+BAAZ,CAHiB,aAIlB,C,uFACmB,CAClB,KAAKC,YAAL,CAAoB,IAAKC,MAAM,CAACC,YAAP,EACvBD,MAAM,CAACE,kBADW,GAApB,CAEA,KAAKC,QAAL,CAAgB,KAAKJ,YAAL,CAAkBK,cAAlB,EAAhB,CACA,KAAKC,SAAL,CAAiB,GAAIT,CAAAA,UAAJ,CAAe,KAAKO,QAAL,CAAcG,iBAA7B,CAAjB,CACA,KAAKC,MAAL,CAAc,KAAKR,YAAL,CAAkBS,uBAAlB,CAA0C,KAAKf,KAAL,CAAWgB,KAArD,CAAd,CACA,KAAKF,MAAL,CAAYG,OAAZ,CAAoB,KAAKP,QAAzB,EACA,KAAKI,MAAL,CAAYG,OAAZ,CAAoB,KAAKP,QAAzB,EACA,KAAKQ,KAAL,CAAaC,qBAAqB,CAAC,KAAKf,IAAN,CAAlC,CACD,C,mCACM,CACL,KAAKM,QAAL,CAAcU,qBAAd,CAAoC,KAAKR,SAAzC,EACA,KAAKS,QAAL,CAAc,CAAEnB,SAAS,CAAE,KAAKU,SAAlB,CAAd,EACA,KAAKM,KAAL,CAAaC,qBAAqB,CAAC,KAAKf,IAAN,CAAlC,CACD,C,mEACsB,CACrBkB,oBAAoB,CAAC,KAAKJ,KAAN,CAApB,CACA,KAAKR,QAAL,CAAca,UAAd,GACA,KAAKT,MAAL,CAAYS,UAAZ,GACD,C,uCACQ,CACP,mBAAO,oBAAC,eAAD,EAAiB,SAAS,CAAE,KAAKtB,KAAL,CAAWC,SAAvC,EAAP,CACD,C,2BA5ByBL,S,EA+B5B,cAAeE,CAAAA,aAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport AudioVisualiser from './AudioVisualiser';\r\n\r\nclass AudioAnalyser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { audioData: new Uint8Array(0) };\r\n    this.tick = this.tick.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.audioContext = new (window.AudioContext ||\r\n      window.webkitAudioContext)();\r\n    this.analyser = this.audioContext.createAnalyser();\r\n    this.dataArray = new Uint8Array(this.analyser.frequencyBinCount);\r\n    this.source = this.audioContext.createMediaStreamSource(this.props.audio);\r\n    this.source.connect(this.analyser);\r\n    this.source.connect(this.analyser);\r\n    this.rafId = requestAnimationFrame(this.tick);\r\n  }\r\n  tick() {\r\n    this.analyser.getByteTimeDomainData(this.dataArray);\r\n    this.setState({ audioData: this.dataArray });\r\n    this.rafId = requestAnimationFrame(this.tick);\r\n  }\r\n  componentWillUnmount() {\r\n    cancelAnimationFrame(this.rafId);\r\n    this.analyser.disconnect();\r\n    this.source.disconnect();\r\n  }\r\n  render() {\r\n    return <AudioVisualiser audioData={this.state.audioData} />;\r\n  }\r\n}\r\n\r\nexport default AudioAnalyser;"]},"metadata":{},"sourceType":"module"}