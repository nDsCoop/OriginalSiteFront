{"ast":null,"code":"import _objectDestructuringEmpty from\"C:\\\\myProJects\\\\Server\\\\weatherapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectDestructuringEmpty\";import _slicedToArray from\"C:\\\\myProJects\\\\Server\\\\weatherapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"C:\\\\myProJects\\\\Server\\\\weatherapp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import React,{useContext,useEffect}from\"react\";import{Link}from\"react-router-dom\";import{motion}from\"framer-motion\";import{RiRepeatOneLine,RiRepeat2Fill,RiHome2Line}from'react-icons/ri';import{TiArrowShuffle}from'react-icons/ti';import{List,ListItem,Typography,ListItemIcon,ListItemText,Grid,Divider,LinearProgress}from\"@material-ui/core\";import{Home,MusicVideo,LibraryMusic,Shuffle,Repeat,KeyboardArrowUp,KeyboardArrowDown,RepeatOne}from\"@material-ui/icons\";import{GlobalContext}from\"./GlobalState\";var renderResult;// written by @bushblade\nvar shuffle=function shuffle(arry){return arry.reduce(function(acc,_,i){var rnd=Math.floor(Math.random()*acc.length),temp=acc[i];acc[i]=acc[rnd];acc[rnd]=temp;return acc;},_toConsumableArray(arry));};var RelatedVideos=function RelatedVideos(_ref){var toggleMaxPlaylist=_ref.toggleMaxPlaylist,setPlaylist=_ref.setPlaylist,playerState=_ref.playerState,relatedVideos=_ref.relatedVideos,setRelatedVideos=_ref.setRelatedVideos,setIsRepeatOn=_ref.setIsRepeatOn,isRepeatOn=_ref.isRepeatOn;var _useContext=useContext(GlobalContext),_useContext2=_slicedToArray(_useContext,2);_objectDestructuringEmpty(_useContext2[0]);var dispatch=_useContext2[1];var setCurrentVideoSnippet=function setCurrentVideoSnippet(data){dispatch({type:\"setCurrentVideoSnippet\",snippet:data});};var handleShuffleClick=function handleShuffleClick(){setRelatedVideos(shuffle(relatedVideos));};var spring={type:\"spring\",damping:20,stiffness:300};var handleClick=function handleClick(video){// set all the info of current clicked video in this object\nsetCurrentVideoSnippet({id:video.id.videoId,title:video.snippet.title,channelTitle:video.snippet.channelTitle,maxThumbnail:\"https://img.youtube.com/vi/\".concat(video.id.videoId,\"/maxresdefault.jpg\"),sdThumbnail:\"https://img.youtube.com/vi/\".concat(video.id.videoId,\"/sddefault.jpg\")// this is the url of the max resolution of thumbnail\n});setPlaylist();};if(relatedVideos.length>1){renderResult=relatedVideos.map(function(song){return/*#__PURE__*/React.createElement(motion.li,{key:song.id.videoId,positionTransition:spring},/*#__PURE__*/React.createElement(ListItem// key={song.id.videoId}\n,{button:true,onClick:function onClick(){return handleClick(song);}// component={Link}\n// replace\n// to={{ pathname: \"/play\", search: `?id=${song.id.videoId}` }}\n},/*#__PURE__*/React.createElement(ListItemIcon,null,/*#__PURE__*/React.createElement(MusicVideo,{style:{color:\"#fff\"}})),/*#__PURE__*/React.createElement(ListItemText,{primary:song.snippet.title.slice(0,40),secondary:song.snippet.channelTitle.slice(0,40)})));});}else{return/*#__PURE__*/React.createElement(LinearProgress,null);}var returnPlaylistExpandBtn=function returnPlaylistExpandBtn(){if(playerState===\"playlist\"){return/*#__PURE__*/React.createElement(KeyboardArrowDown,{onClick:toggleMaxPlaylist});}else{return/*#__PURE__*/React.createElement(KeyboardArrowUp,{onClick:toggleMaxPlaylist});}};return/*#__PURE__*/React.createElement(\"div\",{className:\"RelatedVideoContainer\"},/*#__PURE__*/React.createElement(Grid,{className:\"playlistHeader\",container:true,direction:\"row\",alignItems:\"center\",justify:\"space-between\"},/*#__PURE__*/React.createElement(Link,{to:\"/page1/home\"},/*#__PURE__*/React.createElement(RiHome2Line,{className:\"cssIcons\"})),/*#__PURE__*/React.createElement(Typography,{variant:\"h6\"},\"nDs Coming\"),/*#__PURE__*/React.createElement(TiArrowShuffle,{className:\"cssIcons\",onClick:handleShuffleClick}),isRepeatOn?/*#__PURE__*/React.createElement(RiRepeatOneLine,{className:\"cssIcons\",onClick:setIsRepeatOn}):/*#__PURE__*/React.createElement(RiRepeat2Fill,{className:\"cssIcons\",onClick:setIsRepeatOn}),returnPlaylistExpandBtn()),/*#__PURE__*/React.createElement(List,{dense:true},renderResult));};export default RelatedVideos;","map":{"version":3,"sources":["C:/myProJects/Server/weatherapp/src/components/RelatedVideos.js"],"names":["React","useContext","useEffect","Link","motion","RiRepeatOneLine","RiRepeat2Fill","RiHome2Line","TiArrowShuffle","List","ListItem","Typography","ListItemIcon","ListItemText","Grid","Divider","LinearProgress","Home","MusicVideo","LibraryMusic","Shuffle","Repeat","KeyboardArrowUp","KeyboardArrowDown","RepeatOne","GlobalContext","renderResult","shuffle","arry","reduce","acc","_","i","rnd","Math","floor","random","length","temp","RelatedVideos","toggleMaxPlaylist","setPlaylist","playerState","relatedVideos","setRelatedVideos","setIsRepeatOn","isRepeatOn","dispatch","setCurrentVideoSnippet","data","type","snippet","handleShuffleClick","spring","damping","stiffness","handleClick","video","id","videoId","title","channelTitle","maxThumbnail","sdThumbnail","map","song","color","slice","returnPlaylistExpandBtn"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\nimport { RiRepeatOneLine, RiRepeat2Fill, RiHome2Line} from 'react-icons/ri';\r\nimport { TiArrowShuffle } from 'react-icons/ti';\r\n\r\n\r\nimport {\r\n  List,\r\n  ListItem,\r\n  Typography,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Grid,\r\n  Divider,\r\n  LinearProgress\r\n} from \"@material-ui/core\";\r\n\r\nimport {\r\n  Home,\r\n  MusicVideo,\r\n  LibraryMusic,\r\n  Shuffle,\r\n  Repeat,\r\n  KeyboardArrowUp,\r\n  KeyboardArrowDown,\r\n  RepeatOne\r\n} from \"@material-ui/icons\";\r\n\r\n\r\nimport { GlobalContext } from \"./GlobalState\";\r\n\r\nlet renderResult;\r\n\r\n// written by @bushblade\r\nconst shuffle = arry =>\r\n  arry.reduce(\r\n    (acc, _, i) => {\r\n      const rnd = Math.floor(Math.random() * acc.length),\r\n        temp = acc[i];\r\n      acc[i] = acc[rnd];\r\n      acc[rnd] = temp;\r\n      return acc;\r\n    },\r\n    [...arry]\r\n  );\r\n\r\nconst RelatedVideos = ({\r\n  toggleMaxPlaylist,\r\n  setPlaylist,\r\n  playerState,\r\n  relatedVideos,\r\n  setRelatedVideos,\r\n  setIsRepeatOn,\r\n  isRepeatOn\r\n}) => {\r\n  const [{}, dispatch] = useContext(GlobalContext);\r\n  const setCurrentVideoSnippet = data => {\r\n    dispatch({ type: \"setCurrentVideoSnippet\", snippet: data });\r\n  };\r\n  const handleShuffleClick = () => {\r\n    setRelatedVideos(shuffle(relatedVideos));\r\n  };\r\n\r\n  const spring = {\r\n    type: \"spring\",\r\n    damping: 20,\r\n    stiffness: 300\r\n  };\r\n  const handleClick = video => {\r\n    // set all the info of current clicked video in this object\r\n    setCurrentVideoSnippet({\r\n      id: video.id.videoId,\r\n      title: video.snippet.title,\r\n      channelTitle: video.snippet.channelTitle,\r\n      maxThumbnail: `https://img.youtube.com/vi/${video.id.videoId}/maxresdefault.jpg`,\r\n      sdThumbnail: `https://img.youtube.com/vi/${video.id.videoId}/sddefault.jpg`\r\n      // this is the url of the max resolution of thumbnail\r\n    });\r\n    setPlaylist();\r\n  };\r\n\r\n  if (relatedVideos.length > 1) {\r\n    renderResult = relatedVideos.map(song => {\r\n      return (\r\n        <motion.li key={song.id.videoId} positionTransition={spring}>\r\n          <ListItem\r\n            // key={song.id.videoId}\r\n            button\r\n            onClick={() => handleClick(song)}\r\n            // component={Link}\r\n            // replace\r\n            // to={{ pathname: \"/play\", search: `?id=${song.id.videoId}` }}\r\n          >\r\n            <ListItemIcon>\r\n              <MusicVideo style={{ color: \"#fff\" }} />\r\n            </ListItemIcon>\r\n            <ListItemText\r\n              primary={song.snippet.title.slice(0, 40)}\r\n              secondary={song.snippet.channelTitle.slice(0, 40)}\r\n            />\r\n          </ListItem>\r\n        </motion.li>\r\n      );\r\n    });\r\n  } else {\r\n    return <LinearProgress />;\r\n  }\r\n\r\n  const returnPlaylistExpandBtn = () => {\r\n    if (playerState === \"playlist\") {\r\n      return <KeyboardArrowDown onClick={toggleMaxPlaylist} />;\r\n    } else {\r\n      return <KeyboardArrowUp onClick={toggleMaxPlaylist} />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"RelatedVideoContainer\">\r\n      <Grid\r\n        className={\"playlistHeader\"}\r\n        container\r\n        direction=\"row\"\r\n        alignItems=\"center\"\r\n        justify=\"space-between\"\r\n      >\r\n        \r\n        <Link to={\"/page1/home\"}>\r\n        <RiHome2Line className=\"cssIcons\" />\r\n        </Link>\r\n        <Typography variant=\"h6\">nDs Coming</Typography>\r\n        <TiArrowShuffle className=\"cssIcons\" onClick={handleShuffleClick} />\r\n        {/* this will show the repeat button and repeat the song */}\r\n        {isRepeatOn ? (\r\n          <RiRepeatOneLine className=\"cssIcons\" onClick={setIsRepeatOn} />\r\n        ) : (\r\n          <RiRepeat2Fill className=\"cssIcons\" onClick={setIsRepeatOn} />\r\n        )}\r\n        {returnPlaylistExpandBtn()}\r\n      </Grid>\r\n      <List dense={true}>{renderResult}</List>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RelatedVideos;\r\n"]},"metadata":{},"sourceType":"module"}