{"ast":null,"code":"import axios from \"axios\";\nimport axios0 from \"../apis/axios\";\nconst infoClient = localStorage.getItem(\"info-client\"); // const key = \"02924c9a5a777f4d4854a45a326432c6\";\n\nconst GeoAPI = \"https://ipapi.co\";\n\nconst fetchIPclient = async () => {\n  const res = await axios.get(GeoAPI, {\n    mode: \"no-cors\"\n  }); //   set the current country code in local stoarge\n\n  localStorage.setItem(\"info-client\", res.data);\n  const post = {\n    ip: res.data.ip,\n    timestamp: new Date()\n  };\n  axios0.post('/ndsapi/client', post).then(function (response) {\n    // console.log(response.data.status);\n    console.log(\"Successfull\"); // also clear the form\n  }).catch(function (error) {\n    console.log(\"Error is fetching!\");\n\n    if (error.response) {\n      if (error.response.status === 429) {\n        console.log(\"Error is sending to server!\");\n      }\n    }\n  });\n};\n\nif (!infoClient) {\n  // if country is not set then only set it\n  fetchIPclient();\n}","map":{"version":3,"sources":["C:/myProJects/Server/weatherapp/src/external/fetchIPclient.js"],"names":["axios","axios0","infoClient","localStorage","getItem","GeoAPI","fetchIPclient","res","get","mode","setItem","data","post","ip","timestamp","Date","then","response","console","log","catch","error","status"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAnB,C,CAEA;;AAEA,MAAMC,MAAM,GAAG,kBAAf;;AAEA,MAAMC,aAAa,GAAG,YAAY;AAChC,QAAMC,GAAG,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAUH,MAAV,EAAkB;AAAEI,IAAAA,IAAI,EAAE;AAAR,GAAlB,CAAlB,CADgC,CAEhC;;AACAN,EAAAA,YAAY,CAACO,OAAb,CAAqB,aAArB,EAAoCH,GAAG,CAACI,IAAxC;AACA,QAAMC,IAAI,GAAG;AACXC,IAAAA,EAAE,EAAEN,GAAG,CAACI,IAAJ,CAASE,EADF;AAEXC,IAAAA,SAAS,EAAE,IAAIC,IAAJ;AAFA,GAAb;AAIAd,EAAAA,MAAM,CACHW,IADH,CACQ,gBADR,EAC0BA,IAD1B,EAEGI,IAFH,CAEQ,UAASC,QAAT,EAAmB;AACvB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAFuB,CAGvB;AACD,GANH,EAOGC,KAPH,CAOS,UAASC,KAAT,EAAgB;AACrBH,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;;AACA,QAAIE,KAAK,CAACJ,QAAV,EAAoB;AAClB,UAAII,KAAK,CAACJ,QAAN,CAAeK,MAAf,KAA0B,GAA9B,EAAmC;AACjCJ,QAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACD;AACF;AACF,GAdH;AAeD,CAvBD;;AAyBA,IAAI,CAACjB,UAAL,EAAiB;AACf;AACAI,EAAAA,aAAa;AACd","sourcesContent":["import axios from \"axios\";\r\nimport axios0 from \"../apis/axios\";\r\nconst infoClient = localStorage.getItem(\"info-client\");\r\n\r\n// const key = \"02924c9a5a777f4d4854a45a326432c6\";\r\n\r\nconst GeoAPI = \"https://ipapi.co\";\r\n\r\nconst fetchIPclient = async () => {\r\n  const res = await axios.get(GeoAPI, { mode: \"no-cors\" });\r\n  //   set the current country code in local stoarge\r\n  localStorage.setItem(\"info-client\", res.data);\r\n  const post = {\r\n    ip: res.data.ip,\r\n    timestamp: new Date(),\r\n    }\r\n  axios0\r\n    .post('/ndsapi/client', post)\r\n    .then(function(response) {\r\n      // console.log(response.data.status);\r\n      console.log(\"Successfull\");\r\n      // also clear the form\r\n    })\r\n    .catch(function(error) {\r\n      console.log(\"Error is fetching!\");\r\n      if (error.response) {\r\n        if (error.response.status === 429) {\r\n          console.log(\"Error is sending to server!\");\r\n        }\r\n      }\r\n    });\r\n};\r\n\r\nif (!infoClient) {\r\n  // if country is not set then only set it\r\n  fetchIPclient();\r\n}\r\n"]},"metadata":{},"sourceType":"module"}